<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
	<title>Async </title>

</head>

<body>
	<button id="upload"> Upload images</button>
	<form style="display: none">
		<input type="file" id="fileDialogId" multiple />
	</form>
	<div id="imgcontainer"> </div>
	<script>
		let fileList = [];

		const btn = document.querySelector('#upload');
		const fileDiag = document.querySelector('#fileDialogId');
		const container = document.querySelector('#imgcontainer')
		btn.addEventListener('click', () => fileDiag.click());
		fileDiag.addEventListener('change', readeFile);

		async function readeFile(event) {
			fileList = await event.target.files;
			console.log(fileList);
			for (let i = 0; i < fileList.length; i++) {
				const image = new Image();
				console.log(fileList[i]);
				image.src = await readFileURL(fileList[i]);
				container.appendChild(image);
			}

		};

		function readFileURL(file) {
			return new Promise((resolve, reject) => {
				let reader = new FileReader();

				reader.onload = () => {
					resolve(reader.result);
				};

				reader.onerror = reject;
				reader.readAsDataURL(file);
			})
		};

		

	</script>

</body>

</html>